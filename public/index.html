<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon-32x32.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="David Delgadillo's portfolio site."
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <!-- Google Fonts Link -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;600;700&display=swap" rel="stylesheet"> 

    <script src="https://cdn.rawgit.com/progers/pathseg/master/pathseg.js"></script>
    
    <title>David's Portfolio Site</title>
  </head>
  <body>

    <script type="text/babel">

      const encode = (data) => {
        return Object.keys(data)
            .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
            .join("&");
      }
    
      function Contact() {
  const [formData, setFormData] = useState(initialState);

  const phone = <PhoneIphoneOutlinedIcon />
  const email = <EmailIcon />

  const encode = (data) => {
    return Object.keys(data)
        .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
        .join("&");
  }

  const handleSubmit = e => {
    fetch("/", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: encode({ "form-name": "contact", ...formData })
    })
      .then(() => alert("Success!"))
      .catch(error => alert(error));

    e.preventDefault();
  };

  const handleChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });

  return (
    <MainLayout>
      <Title title={'Contact'} span={'Contact'}/>
      <ContactStyled>
        <InnerLayout className={'contact-section'}>
          <div className="left-content">
            <form className="form" name="contact" method="POST" data-netlify="true" data-netlify-recaptcha="true" onSubmit={handleSubmit}>
            <input type="hidden" name="contact" value="contact" />
              <div className="form-field">
                <label htmlFor="name">Enter Your Name <span>*</span></label>
                <input id="name" name="name" type="text" required onChange={handleChange} />
              </div>
              <div className="form-field">
                <label htmlFor="email">Enter Your Email <span>*</span></label>
                <input id="email" name="email" type="text" required onChange={handleChange} />
              </div>
              <div className="form-field">
                <label htmlFor="subject">Subject <span>*</span></label>
                <input id="subject" name="subject" type="text" required onChange={handleChange}/>
              </div>
              <div className="form-field">
                <label htmlFor="text-area">Enter Your Message</label>
                <textarea id="textarea" name="message" type="textarea" cols="30" rows="12" required onChange={handleChange}></textarea>
                <div>
                  <div data-netlify-recaptcha="true"></div>
                </div>
              </div>
              <button type="submit">Submit</button>
            </form>
          </div>
          <div className="right-content">
          
            <ContactItem title={'Phone'} icon={phone} cont1={'+1(909)731-4075'} />
            <a href="mailto:daviddel.731@gmail.com">
              <ContactItem title={'Email'} icon={email} cont1={'DavidDel.731@gmail.com'} />
            </a>
          </div>
          
        </InnerLayout>
      </ContactStyled>
    </MainLayout>
    
  );
}
    
      ReactDOM.render(<Contact />, document.getElementById("root"));
    
    </script>

    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    

    <style>
      body {
        overflow-x: hidden;
      }
    </style>
  </body>
</html>
